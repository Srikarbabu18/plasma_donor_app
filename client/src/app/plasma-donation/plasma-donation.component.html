<div class="container">
  <h2>Plasma Donation Form</h2>

  <div class="d-flex align-items-center">
    <button id="donation-btn" data-bs-toggle="modal" data-bs-target="#donationModal" class="btn btn-primary me-3">Donate</button>
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Search" aria-label="Search" [(ngModel)]="searchQuery">
      <button class="btn btn-outline-secondary" type="button" (click)="searchDonors()">Search</button>
    </div>
  </div>

  <div class="modal fade" id="donationModal" tabindex="-1" aria-labelledby="donationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="donationModalLabel">Donation Form</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form (submit)="save($event)">
            <div class="form-group">
              <label for="name">Name:</label>
              <input type="text" class="form-control" id="name" name="name" required [(ngModel)]="name">
            </div>
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" class="form-control" id="email" name="email" required [(ngModel)]="email">
            </div>
            <div class="form-group">
              <label for="phone">Phone:</label>
              <input type="tel" class="form-control" id="phone" name="phone" required [(ngModel)]="phone">
            </div>
            <div class="form-group">
              <label for="bloodGroup">Blood Group:</label>
              <select class="form-control" id="bloodGroup" name="bloodGroup" required [(ngModel)]="bloodGroup">
                <option value="">Select Blood Group</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
              </select>
            </div>
            <div class="form-group">
              <label for="address">Address:</label>
              <textarea class="form-control" id="address" name="address" required [(ngModel)]="address"></textarea>
            </div>
            <div class="form-group">
              <label for="state">State:</label>
              <select class="form-control" id="state" name="state" required [(ngModel)]="state">
                <option value="">Select State</option>
                <option value="Andhra Pradesh">Andhra Pradesh</option>
                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                <option value="Assam">Assam</option>
                <option value="Bihar">Bihar</option>
                <option value="Chhattisgarh">Chhattisgarh</option>
                <option value="Goa">Goa</option>
                <option value="Gujarat">Gujarat</option>
                <option value="Haryana">Haryana</option>
                <option value="Himachal Pradesh">Himachal Pradesh</option>
                <option value="Jharkhand">Jharkhand</option>
                <option value="Karnataka">Karnataka</option>
                <option value="Kerala">Kerala</option>
                <option value="Madhya Pradesh">Madhya Pradesh</option>
                <option value="Maharashtra">Maharashtra</option>
                <option value="Manipur">Manipur</option>
                <option value="Meghalaya">Meghalaya</option>
                <option value="Mizoram">Mizoram</option>
                <option value="Nagaland">Nagaland</option>
                <option value="Odisha">Odisha</option>
                <option value="Punjab">Punjab</option>
                <option value="Rajasthan">Rajasthan</option>
                <option value="Sikkim">Sikkim</option>
                <option value="Tamil Nadu">Tamil Nadu</option>
                <option value="Telangana">Telangana</option>
                <option value="Tripura">Tripura</option>
                <option value="Uttar Pradesh">Uttar Pradesh</option>
                <option value="Uttarakhand">Uttarakhand</option>
                <option value="West Bengal">West Bengal</option>
                <!-- You can add more states as needed -->
              </select>              
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="glass-card mt-4" *ngFor="let donation of filteredDonors">
    <div class="glass-card-body">
      <div class="row">
        <div class="col-md-4">
          <p><strong>Name:</strong> {{ donation.name }}</p>
        </div>
        <div class="col-md-4">
          <p><strong>Email:</strong> {{ donation.email }}</p>
        </div>
        <div class="col-md-4">
          <p><strong>Phone:</strong> {{ donation.phone }}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <p><strong>Blood Group:</strong> {{ donation.bloodGroup }}</p>
        </div>
        <div class="col-md-4">
          <p><strong>Address:</strong> {{ donation.address }}</p>
        </div>
        <div class="col-md-4">
          <p><strong>State:</strong> {{ donation.state }}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <p><strong>Status:</strong> {{ donation.status }}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <!-- Display the dateTime property here -->
          <p><strong>Date and Time:</strong> {{ donation.dateTime | date:'medium' }}</p>
        </div>
      </div>
    </div>
  </div>

</div>

<style>
  .glass-card {
  background-color: rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(10px);
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.glass-card-header {
  text-align: center;
  padding: 10px 0;
}

.glass-card-body {
  color: #343232;
}

.glass-card-body p {
  margin-bottom: 5px;
}
</style>
